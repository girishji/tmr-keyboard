The current the **IS31FL3731** draws when driving all LEDs in a matrix is **highly variable** and is dominated by the **LED current** itself, which you set with an external resistor.

The total current drawn by the entire system is the sum of the chip's internal current and the current flowing through the LEDs.

$$\mathbf{I}_{\text{Total}} = \mathbf{I}_{\text{Chip}} + \mathbf{I}_{\text{LEDs}}$$

---

## ðŸ’¡ 1. The LED Drive Current ($\mathbf{I}_{\text{LEDs}}$)

This is the **largest component** and depends on two main factors:

### A. The External Resistor ($\mathbf{R}_{\text{EXT}}$)

The IS31FL3731 uses an external resistor connected to the $\text{ISET}$ pin to set the **maximum peak current** for the LEDs.

| $\mathbf{R}_{\text{EXT}}$ Value | Typical Maximum Peak LED Current |
| :--- | :--- |
| $20 \text{ k}\Omega$ | $\approx 20 \text{ mA}$ (Peak) |

### B. The Multiplexing Duty Cycle

The IS31FL3731 drives the $16 \times 9$ matrix using Time Division Multiplexing (TDM). It scans through **16 frames** in sequence.

* This means any single LED is only **ON** for **$1/16$th** of the total time (a $\mathbf{6.25\%}$ duty cycle).
* The **average current** seen by the LED (which determines brightness) is $1/16$th of the peak current.

**Example Calculation (Assuming $\mathbf{R}_{\text{EXT}} = 20 \text{ k}\Omega$):**

| Measurement | Value | Calculation |
| :--- | :--- | :--- |
| **Peak Current per LED ($\mathbf{I}_{\text{Peak}}$)** | $20 \text{ mA}$ | Set by $\text{R}_{\text{EXT}}$ |
| **Average Current per LED ($\mathbf{I}_{\text{Avg}}$)** | $1.25 \text{ mA}$ | $20 \text{ mA} \times 6.25\% $ |
| **Total Average Current (144 LEDs)** | **$\approx 180 \text{ mA}$** | $144 \text{ LEDs} \times 1.25 \text{ mA/LED}$ |

This **$\mathbf{180 \text{ mA}}$** is the current flowing from the LED power supply ($\text{V}_{\text{LED}}$) when all 144 LEDs are set to **full brightness** via the hardware $\text{R}_{\text{EXT}}$ and no further software dimming is applied.

---

## ðŸ”Œ 2. The Chip Quiescent Current ($\mathbf{I}_{\text{Chip}}$)

As noted previously, the current drawn by the chip's internal logic ($\text{I}_{\text{CC}}$) is very low compared to the LED current.

* $\mathbf{I}_{\text{Chip}}$ (Quiescent): $\approx 2.17 \text{ mA}$

---

## ðŸ“ˆ Total Power Supply Current

The total current drawn by the system (when all 144 LEDs are fully driven):

$$\mathbf{I}_{\text{Total}} = \mathbf{I}_{\text{Chip}} + \mathbf{I}_{\text{LEDs}}$$
$$\mathbf{I}_{\text{Total}} \approx 2.17 \text{ mA} + 180 \text{ mA} = \mathbf{182.17 \text{ mA}}$$

This $\mathbf{182 \text{ mA}}$ figure is the estimated **average current** drawn from the main power supply when the entire $16 \times 9$ matrix is lit at maximum average brightness, assuming the $20 \text{k}\Omega$ external resistor value.
